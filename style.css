/* Companion visual fixes, level progress and mood controls */
.companion-preview {
  box-shadow: none !important;
  border: none !important;
  background: var(--primary-light) !important;
  overflow: visible !important;
  width: 120px !important;
  height: 120px !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  position: relative;
}
.companion-preview::before,
.companion-preview::after {
  display: none !important;
  content: none !important;
}
.companion-inner .companion-emoji {
  font-size: 3.5rem;
  transition: transform 220ms ease, box-shadow 220ms ease;
  will-change: transform, box-shadow;
}
.companion-status {
  max-width: 320px;
  margin: 12px auto;
  text-align: center;
}
.companion-level {
  font-weight: 700;
  margin-bottom: 6px;
  color: var(--text);
}
.companion-progress-bar {
  height: 12px;
  background: rgba(0,0,0,0.06);
  border-radius: 999px;
  overflow: hidden;
  box-shadow: none;
}
.companion-progress {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), var(--accent));
  width: 0%;
  transition: width 400ms ease;
}
.companion-bond {
  font-size: 0.9rem;
  color: var(--text-light);
  margin-top: 6px;
}
.companion-settings {
  margin-top: 10px;
  text-align: center;
}
.companion-settings label { font-weight:600; color:var(--text); }
.companion-mood-controls {
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-top: 8px;
  flex-wrap: wrap;
}
.mood-btn {
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid transparent;
  background: var(--card-bg);
  cursor: pointer;
  font-size: 1.1rem;
  transition: transform 150ms ease, box-shadow 150ms ease, border-color 150ms ease;
}
.mood-btn:hover { transform: translateY(-3px); }
.mood-btn.selected {
  border-color: var(--primary);
  transform: translateY(-3px);
  box-shadow: var(--shadow);
}
/* mood-specific companion visual cues */
.companion-preview.mood-happy .companion-emoji { transform: scale(1.08); box-shadow: 0 12px 30px rgba(16,185,129,0.12); }
.companion-preview.mood-calm .companion-emoji { transform: scale(1.04); box-shadow: 0 10px 22px rgba(59,130,246,0.08); }
.companion-preview.mood-neutral .companion-emoji { transform: scale(1.02); box-shadow: 0 6px 18px rgba(0,0,0,0.06); }
.companion-preview.mood-sad .companion-emoji { transform: scale(0.98); opacity: 0.9; box-shadow: 0 6px 14px rgba(96,165,250,0.06); }
.companion-preview.mood-angry .companion-emoji { transform: scale(1.06); box-shadow: 0 12px 28px rgba(239,68,68,0.12); }

/* small responsive tweaks */
@media (max-width:420px) {
  .companion-preview { width: 96px; height: 96px; }
  .companion-inner .companion-emoji { font-size: 2.6rem; }
}
